import{h as p,e as _,c as m,a as e,i as f,j as i,v as d,d as n,b as h,w as v,r as w,o as g}from"./index-zuJBzU2O.js";import{a as b}from"./axios-L6U4YIEh.js";var x={VITE_API:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"charlotte-lee849",BASE_URL:"/vue3-week6-2023-composition/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const k={class:"container"},V=e("h2",null,"後台登入頁面",-1),P={class:"row"},E={class:"col-12"},I={class:"form-floating"},T=e("label",{for:"floatingInput"},"Email address",-1),D={class:"form-floating"},y=e("label",{for:"floatingPassword"},"Password",-1),A={class:"mt-5 mb-3 text-muted"},B=e("br",null,null,-1),L={__name:"LoginView",setup(C){const{VITE_API:c}=x,u=p(),s=_({}),r=()=>{const l=`${c}admin/signin`;b.post(l,s.value).then(o=>{const{token:a,expired:t}=o.data;document.cookie=`hexToken=${a};expires=${new Date(t)}`,u.push("/admin/products")}).catch(o=>{alert(o.response.data.message)})};return(l,o)=>{const a=w("router-link");return g(),m("div",k,[V,e("div",P,[e("div",E,[e("form",{class:"form-signin",onSubmit:f(r,["prevent"])},[e("div",I,[i(e("input",{type:"email",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>s.value.username=t),id:"floatingInput",placeholder:"Password",required:""},null,512),[[d,s.value.username]]),T]),e("div",D,[i(e("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>s.value.password=t),id:"floatingPassword",placeholder:"Password",required:""},null,512),[[d,s.value.password]]),y]),e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"button",onClick:r}," 登入 ")],32)])]),e("p",A,[n(" © 2024 - Charlotte Lee"),B,n(" vue 第六週主線任務 建立路由表 "),h(a,{class:"nav-link",to:"/"},{default:v(()=>[n("返回首頁")]),_:1})])])}}};export{L as default};
